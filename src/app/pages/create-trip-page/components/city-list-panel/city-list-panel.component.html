<div class="create-trip-panel">
  <div class="panel-header"></div>
  <div class="city-list-panel">
    @switch (currentView) { @case (PanelView.CitiesListView) {
    <div *ngFor="let city of cityList" class="option-button" (click)="clickCity(city)">
      <span class="button-text-container">
        <div class="button-icon" id="city-icon"></div>
        <span class="button-text">{{ city.name }}</span>
      </span>
      <div class="date-text">{{
        city.startDate?.toLocaleDateString("en-US", {
          day: "2-digit",
          month: "short"
        })
      }} ({{city.numberOfDays}} {{city.numberOfDays === 1 ? "day" : "days"}})</div>
    </div>
    <div class="option-button" (click)="setCurrentView(PanelView.AddCityView)">
      <span class="button-text-container">
        <div class="button-icon" id="add-icon"></div>
        <span class="button-text">Add new city</span>
      </span>
    </div>
    } @case (PanelView.AddCityView) {
    <form
      class="add-city-form"
      [formGroup]="addCityForm"
      (ngSubmit)="onAddCitySubmit()"
    >
      <div class="form-row-section">
        <label class="form-label">City Name</label>
        <input
          #cityName
          type="text"
          formControlName="cityName"
          placeholder="Enter the city name"
        />
        <small
          *ngIf="
            addCityForm.get('cityName')?.invalid &&
            addCityForm.get('cityName')?.touched
          "
          class="text-danger"
        >
          City name is required
        </small>
      </div>
      <!-- IMPOTANT: Date Picker changes-->
      <div class="form-row-section">
        <label class="form-label">Arrival date</label>
        <input type="date" formControlName="arrivalDate" />
        <!-- <small *ngIf="loginForm.get('email')?.invalid 
                    && loginForm.get('email')?.touched" class="text-danger">
                Email is required!
            </small> -->
      </div>
      <div class="form-row-section number">
        <label class="form-label number">No. of Days</label>
        <input
          class="number"
          type="number"
          formControlName="numberOfDays"
          min="1"
          max="100"
          value="1"
        />
        <!-- <small *ngIf="loginForm.get('email')?.invalid 
                    && loginForm.get('email')?.touched" class="text-danger">
                Email is required!
            </small> -->
      </div>
      <div class="buttons-section">
        <div
          class="discard-button"
          (click)="setCurrentView(PanelView.CitiesListView)"
        >
          Discard
        </div>
        <button type="submit" class="submit-button">Add city</button>
      </div>
    </form>
    }}
  </div>
</div>
