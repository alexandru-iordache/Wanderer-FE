<div class="my-trips-page">
  <div class="section left">
    <!-- <div class="calendar-panel">
      <div class="panel-header">Calendar</div>
      <div class="separator"></div>
    </div> -->
    <div class="stats-panel">
      <div class="panel-header">Your stats</div>
      <div class="info-section">
        <mat-icon class="button-icon" fontIcon="info"></mat-icon>
        <div class="info-content">
          This panel shows your travel progress. The numbers indicate
          completed/total counts for each category of your journey. The progress
          bars visualize your achievements so far.
        </div>
      </div>
      <div class="separator"></div>
      <div class="stats-content">
        <div class="stat-item">
          <div class="stat-header">
            <span class="stat-label">Trips</span>
            <span class="stat-numbers"
              >{{ userCompletedStats.tripsCount }} /
              {{ userTotalStats.tripsCount }}</span
            >
          </div>
          <mat-progress-bar
            [value]="
              (userCompletedStats.tripsCount /
                (userTotalStats.tripsCount || 1)) *
              100
            "
            color="primary"
          >
          </mat-progress-bar>
        </div>

        <div class="stat-item">
          <div class="stat-header">
            <span class="stat-label">Countries</span>
            <span class="stat-numbers"
              >{{ userCompletedStats.countriesCount }} /
              {{ userTotalStats.countriesCount }}</span
            >
          </div>
          <mat-progress-bar
            [value]="
              (userCompletedStats.countriesCount /
                (userTotalStats.countriesCount || 1)) *
              100
            "
            color="primary"
          >
          </mat-progress-bar>
        </div>

        <div class="stat-item">
          <div class="stat-header">
            <span class="stat-label">Cities</span>
            <span class="stat-numbers"
              >{{ userCompletedStats.citiesCount }} /
              {{ userTotalStats.citiesCount }}</span
            >
          </div>
          <mat-progress-bar
            [value]="
              (userCompletedStats.citiesCount /
                (userTotalStats.citiesCount || 1)) *
              100
            "
            color="primary"
          >
          </mat-progress-bar>
        </div>

        <div class="stat-item">
          <div class="stat-header">
            <span class="stat-label">Waypoints</span>
            <span class="stat-numbers"
              >{{ userCompletedStats.waypointsCount }} /
              {{ userTotalStats.waypointsCount }}</span
            >
          </div>
          <mat-progress-bar
            [value]="
              (userCompletedStats.waypointsCount /
                (userTotalStats.waypointsCount || 1)) *
              100
            "
            color="primary"
          >
          </mat-progress-bar>
        </div>

        <div class="stat-item">
          <div class="stat-header">
            <span class="stat-label">Days</span>
            <span class="stat-numbers"
              >{{ userCompletedStats.daysCount }} /
              {{ userTotalStats.daysCount }}</span
            >
          </div>
          <mat-progress-bar
            [value]="
              (userCompletedStats.daysCount / (userTotalStats.daysCount || 1)) *
              100
            "
            color="primary"
          >
          </mat-progress-bar>
        </div>
      </div>
    </div>
  </div>
  <div class="section right">
    <app-trip-panel [areCurrentUserTrips]="true" [userId]="userId">
    </app-trip-panel>
  </div>
</div>
